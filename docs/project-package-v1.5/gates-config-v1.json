{
  "config_version": "1.0",
  "gates": {
    "G0": {
      "description": "Pilot readiness gate",
      "rules": [
        {
          "id": "valid_rate_clinic",
          "metric": "valid_rate_clinic",
          "op": ">=",
          "value": 0.8
        },
        {
          "id": "qmax_mae",
          "metric": "qmax_mae_ml_s",
          "op": "<=",
          "value": 3.0
        },
        {
          "id": "qmax_bias_abs",
          "metric": "qmax_bias_abs_ml_s",
          "op": "<=",
          "value": 2.0
        },
        {
          "id": "vvoid_error",
          "any_of": [
            {
              "metric": "vvoid_mape_pct",
              "op": "<=",
              "value": 15.0
            },
            {
              "metric": "vvoid_mae_ml",
              "op": "<=",
              "value": 30.0
            }
          ]
        },
        {
          "id": "qavg_mae",
          "metric": "qavg_mae_ml_s",
          "op": "<=",
          "value": 2.5
        },
        {
          "id": "timing_start",
          "metric": "dt_start_median_abs_s",
          "op": "<=",
          "value": 0.3
        },
        {
          "id": "timing_end",
          "metric": "dt_end_median_abs_s",
          "op": "<=",
          "value": 0.5
        },
        {
          "id": "privacy_full_frame_storage",
          "metric": "privacy_full_frame_storage_rate",
          "op": "==",
          "value": 0.0
        }
      ]
    },
    "G1": {
      "description": "Pivotal readiness gate",
      "rules": [
        {
          "id": "valid_rate_clinic",
          "metric": "valid_rate_clinic",
          "op": ">=",
          "value": 0.85
        },
        {
          "id": "valid_rate_home",
          "metric": "valid_rate_home",
          "op": ">=",
          "value": 0.7
        },
        {
          "id": "qmax_loa95",
          "metric": "qmax_loa95_abs_ml_s",
          "op": "<=",
          "value": 5.0
        },
        {
          "id": "vvoid_loa95",
          "metric": "vvoid_loa95_abs_ml",
          "op": "<=",
          "value": 40.0
        },
        {
          "id": "qmax_mae",
          "metric": "qmax_mae_ml_s",
          "op": "<=",
          "value": 2.5
        },
        {
          "id": "vvoid_error",
          "any_of": [
            {
              "metric": "vvoid_mape_pct",
              "op": "<=",
              "value": 10.0
            },
            {
              "metric": "vvoid_mae_ml",
              "op": "<=",
              "value": 20.0
            }
          ]
        },
        {
          "id": "subgroup_robustness",
          "metric": "subgroup_max_mae_ratio",
          "op": "<=",
          "value": 1.5
        },
        {
          "id": "flush_detector_recall",
          "metric": "flush_recall",
          "op": ">=",
          "value": 0.95
        }
      ]
    },
    "G2": {
      "description": "Release gate",
      "rules": [
        {
          "id": "verification_suite_pass",
          "metric": "verification_suite_pass",
          "op": "==",
          "value": true
        },
        {
          "id": "regression_suite_pass",
          "metric": "regression_suite_pass",
          "op": "==",
          "value": true
        },
        {
          "id": "residual_risk_acceptable",
          "metric": "residual_risk_acceptable",
          "op": "==",
          "value": true
        },
        {
          "id": "release_cr_approved",
          "metric": "release_cr_approved",
          "op": "==",
          "value": true
        },
        {
          "id": "pms_process_active",
          "metric": "pms_process_active",
          "op": "==",
          "value": true
        }
      ]
    },
    "BENCH_G0": {
      "description": "Bench gate G0",
      "rules": [
        {
          "id": "qmax_mae_quiet",
          "metric": "bench_qmax_mae_quiet_ml_s",
          "op": "<=",
          "value": 2.0
        },
        {
          "id": "qmax_mae_noise",
          "metric": "bench_qmax_mae_noise_ml_s",
          "op": "<=",
          "value": 2.5
        },
        {
          "id": "not_in_water_sensitivity",
          "metric": "not_in_water_sensitivity",
          "op": ">=",
          "value": 0.9
        }
      ]
    },
    "BENCH_G1": {
      "description": "Bench gate G1",
      "rules": [
        {
          "id": "qmax_mae_multi_toilet",
          "metric": "bench_qmax_mae_multi_toilet_ml_s",
          "op": "<=",
          "value": 2.5
        }
      ]
    },
    "BENCH_G2": {
      "description": "Bench gate G2",
      "rules": [
        {
          "id": "stress_false_valid_rate",
          "metric": "stress_false_valid_rate",
          "op": "<=",
          "value": 0.02
        }
      ]
    }
  }
}
